<!DOCTYPE html>
<html>
<head>
  <title>ShopHub - Produtos</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
  <div class="container">
    <h1>Produtos</h1>

    <% if (error) { %>
      <p class="error"><%= error %></p>
    <% } %>

    <p><a href="/add-product">Adicionar Produto</a></p>

    <% if (products && products.length > 0) { %> 
      <table>
        <thead>
          <tr>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Preço</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <% products.forEach(product => { %>
            <tr>
              <td><%= product.name %></td>
              <td><%= product.description %></td>
              <td><%= product.price %></td>
              <td>
                <a href="/edit-product/<%= product.id %>">Editar</a>
                <a href="/delete-product/<%= product.id %>" onclick="return confirm('Tem certeza que deseja excluir este produto?')">Excluir</a>
              </td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    <% } else { %>
      <p>Nenhum produto cadastrado.</p>
    <% } %>

    <p><a href="/">Voltar para a Página Inicial</a></p>
  </div>
</body>
</html>